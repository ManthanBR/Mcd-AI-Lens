/* Global reset and box-sizing */
html {
  height: 100%;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

body {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
  position: relative;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  background-color: #000; /* Optional: background for areas not covered by canvas immediately */
}

#canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;  /* Reverted to original working style */
  height: 100vh; /* Added for robustness, helps ensure canvas aims for full viewport height */
                 /* If cropping persists, try removing this 'height: 100vh;' to be exactly like the first code's implied height */
  display: block; 
  z-index: 1;
}

.poweredbysnap-logo {
  width: auto;
  position: absolute;
  bottom: 20px;
  left: 20px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  z-index: 900;
}

.poweredbysnap-logo > img {
  width: 150px;
  height: auto;
}

#controls {
  position: absolute;
  bottom: 5%;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
  /* Contains #outline (img) and #record-button (button) */
}

#outline { /* This is an <img> in your HTML */
  position: absolute; /* Positioned absolutely within #controls' flex centered space */
  /* It will be centered because #controls is flex center. */
  /* The record button will overlay it. */
  height: 90px; /* Adjust size, should be slightly larger than record button for outline effect */
  width: 90px;
  object-fit: contain; /* Ensures image aspect ratio is maintained */
  z-index: 900; /* Below record button */
}

.button-class { /* Common class for all interactive buttons */
  background-color: transparent;
  border: none;
  cursor: pointer;
  user-select: none;
  outline: none;
  padding: 0;
  transition: transform 0.1s ease-in-out;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

.button-class img { /* For buttons that contain an <img> tag for their icon */
  display: block;
  max-width: 100%;
  max-height: 100%;
  height: auto;
  width: auto; /* Let image scale naturally */
}

.button-class:active {
  transform: scale(0.92);
}

#record-button { /* Inherits .button-class */
  /* Positioned by #controls flex centering */
  height: 80px;
  width: 80px;
  background-size: contain; /* Ensures whole image is visible */
  background-position: center;
  background-repeat: no-repeat;
  border-radius: 50%; /* If the image itself isn't round but button should appear so */
  z-index: 1000; /* Above outline */
  /* background-image set by JS */
}

#action-buttons {
  position: absolute;
  bottom: 10%;
  left: 50%;
  transform: translateX(-50%);
  display: none; /* JS will make it flex */
  justify-content: center;
  align-items: center;
  gap: 30px; /* Space between share and download */
  z-index: 1000;
}

#share-button,
#download-button { /* Inherit .button-class */
  height: 70px;
  width: 70px;
}

#back-button-container {
  position: absolute;
  top: 20px;
  left: 20px;
  z-index: 1000;
  display: none; /* JS will make it block */
}

#back-button { /* Inherits .button-class */
  height: 50px;
  width: 50px;
}

#switch-cam {
  position: absolute;
  top: 20px;
  right: 20px;
  z-index: 950;
}

#switch-button { /* Inherits .button-class */
  height: 50px;
  width: 50px;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  /* background-image set by JS or directly if static from settings.js assets */
  /* In your HTML, switch-button doesn't have an <img>, relies on background-image */
  /* The url is in the original CSS: url("../assets/SwitchButton.png") */
  /* If you want to use settings.js, you'd set it in JS like the record button. */
  /* For now, let's assume the CSS path from your original CSS is what you want: */
  background-image: url("../assets/SwitchButton.png");
}


#loading { /* This is the <div> container */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: none; /* JS toggles to 'flex' */
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.6);
  z-index: 2000;
}

#loading-icon { /* This is the <img> tag inside #loading */
  height: 100px;
  width: 100px;
  animation: spin 1s linear infinite;
  object-fit: contain;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Desktop-specific styles */
/* These apply if body has class 'desktop' (added by CameraManager) */
.desktop #outline {
  height: 80px;
  width: 80px;
}
.desktop #record-button {
  height: 70px;
  width: 70px;
}

.desktop #share-button,
.desktop #download-button {
  height: 60px;
  width: 60px;
}

.desktop #back-button,
.desktop #switch-button { /* Assuming switch button might be smaller on desktop */
  height: 40px;
  width: 40px;
}

.desktop #switch-cam {
  display: none; /* Hide switch camera UI on desktop */
}

/* Example for small mobile screens, adjust breakpoint as needed */
@media (max-width: 380px) {
  .poweredbysnap-logo > img {
    width: 100px;
  }
  #outline { height: 70px; width: 70px; }
  #record-button { height: 60px; width: 60px; }
  #share-button, #download-button { height: 55px; width: 55px; }
  #back-button, #switch-button { height: 40px; width: 40px; }
  #controls { bottom: 3%; }
  #action-buttons { bottom: 8%; gap: 20px; }
}